// SwirlyHand.tsx
import { useEffect, useRef } from "preact/hooks";

const SwirlyHand = () => {
  const pathRef = useRef<SVGPathElement>(null);

  useEffect(() => {
    const setPathAnimation = (
      path: SVGPathElement | null,
      isForward: boolean
    ) => {
      if (path) {
        const length = path.getTotalLength();
        console.log("LENGTH: ", length)
        path.style.strokeDasharray = `${length/2} ${length}`;
        path.style.strokeDashoffset = isForward ? `${length/2}` : `-${length/2}`;
      }
    };

    setPathAnimation(pathRef.current, false);
  }, []);

  return (

    <svg
      class="swirly-hand-animation scale-25" // if I use scale-25 here, the problem persists, but the svg gets smaller
      id="Layer_2"
      data-name="Layer 2"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 296 470"
      overflow="visible"
    >
      <path
        ref={pathRef}
        d="m218.18,458.03c-1.01-4.76,28.24-10.17,38.48-31.04,7.73-15.12,13.17-31.76,17.22-48.32,3.45-14.08,3.73-28.96,4.97-43.53.77-8.99,3.06-47.44,2.66-113.28-.35-32.5-.78-65-2.05-97.47-.17-4.3-4.37-10.86-8.09-12.06-6.58-2.12-8.23,4.03-8.44,9.76-.45,12.14.46,30.69.43,63.11.33,18.85,1.44,37.81-1.21,56.42-1.72,12.03-7.29,11.77-12.6,11.79-6.03.03-9.99-3.02-10.91-11.8-6.21-59.39-.55-118.87-2.71-178.26-.26-7.08-.41-14.54-3.06-21.09-1.04-2.58-3.98-5.53-6.85-5.86-3.19-.37-4.94.35-6.91,1.8-5.4,3.98-4.07,12.06-4.01,18,.18,19.4.28,38.8.03,58.2-.47,37.12-1.24,74.23-1.79,111.35-.18,11.96-3.51,17.31-11.23,17.23-7.18-.08-14.34-8.75-14.64-17.93-.15-4.61.02-9.24.03-13.85.05-56.96.17-113.93.06-170.89-.01-6.59-.15-14.11-2.03-19.76s-4.45-9.91-10.54-9.88c-6.44.03-8.64,7.97-9.26,11.48-1.78,10.07-2.17,98.09-2.18,122.72,0,21.82.14,43.64-.12,65.46-.08,6.6-.09,13.64-2.35,19.64-1.67,4.42-3.32,10.56-10.81,10.51-4.97-.04-9.36-3.36-11.14-6.94-3.09-6.22-4.94-13.96-5.03-20.83-.53-39.36-.14-78.74-.41-118.11-.11-16.19-.56-32.42-2-48.53-.46-5.17-.69-12.63-9-13.71-8.26-1.07-11.31,3.9-12.85,10.78-.58,2.59-1.25,13.13-1.27,15.71-.15,20.94-.8,33.89-.52,54.83.33,25.44,1.49,50.87,1.53,76.31.03,22.05-3.04,94.94-12.06,115.55-2.51,5.74-8.13,11.38-15.33,9.03-5.13-1.68-10.77-7.37-12.58-12.54-5.4-15.4-8.64-31.54-13.45-47.17-6.67-21.69-25.98-56.3-42.83-54.75-1.58.15-2.93,1.4-3.15,2.89-.73,4.98,4,12.75,8.89,24.69,7.17,17.53,12.28,35.97,16.57,54.39,7.42,31.88,9.5,65.49,19.48,96.49,11.24,34.94,31.85,63.67,71.18,73.46,36.92,9.18,69.51,2.11,95.86-25.25,20.46-21.24,25.23-48.01,18.06-76.23-7.17-28.21-26.98-45.65-54.4-51.47-31.03-6.58-61.65.12-81.46,32.15-19.41,31.38-13.66,75.05,22.63,93.87,34.46,17.87,75.77-4.8,82.77-38.58,2.78-13.42,2.93-26.15-3.84-38.42-7.14-12.92-17.98-19.75-32.82-20.09-11.21-.26-21.87.03-31.86,7.17-19.2,13.71-20.92,43.57-3.67,59.08,11.22,7.15,24.82,4.32,33.07-1.61,7.56-5.42,12.25-19.12,9.11-26.62-2.75-6.57-15.33-6.79-23.42-4.08-.68.23-2.99.07-2.03-2.03,2.43-6.67,8.32-11.45,21.01-7.67,9.69,2.88,16.38,15.93,13.64,26.59-4.95,19.26-21.85,30.75-42.14,28.63-16.3-1.7-31.9-19.05-31.2-37.08,1.05-27.17,20.05-50.85,50.17-51.9,25.32-.88,46.42,15.47,52.25,35.31,10.71,36.49-13,75.77-50.4,83.51-23.54,4.87-44.07-.29-60.88-16.06-12.75-11.97-20.24-27.69-21.05-46.19-1.16-26.29,6.61-48.75,26.18-66.56,13.29-12.09,29.4-17.95,47.16-19.27,22.27-1.65,43.18,2.13,61.06,16.61,4.69,3.79,8.92,8.15,13.35,12.26,1.98,1.83,3.88,4.26,5.81,7.11,2.95,4.37,4.93,9.89,7.29,15.93,6.17,15.82,6.39,31.96,3.68,48.5-6.14,37.46-30.97,58.12-64.85,69.5-10.12,3.4-18.07,5.7-30.25,5.62-43.46-.28-83.26-23.93-100.85-65.98-9.53-22.78-15.14-46.74-18.63-71.47-4.66-33.01-11.75-65.73-25.49-96.51-3.27-7.32-7.13-14.51-9.22-22.16-1.27-4.67-1.5-11.7,1.15-14.77,2.53-2.92,9.73-3.58,14.33-2.62,22.26,4.69,32.07,22.85,40.76,40.99,6.34,13.24,10.9,26.06,14.78,41.54,2.41,9.6,4.73,30.17,11.57,31.88,7.32.07,10.16-16.46,11.11-25.58,2.52-23.94,3.53-48.1,3.99-72.2,1.02-52.8,1.24-105.62,2.05-158.43.08-5.23,1.43-10.65,3.27-15.58,2.65-7.1,8.1-10.7,16.07-10.84,8.55-.15,14.01,4.72,17.2,11.27,2.63,5.4,3.68,16.15,3.95,40.83.3,50.8-.09,78.86.25,129.66.06,9.36,3.56,27.8,8.34,27.54,3.46.04,4.65-9.73,4.83-14.4.8-20.88,1.31-41.79,1.4-62.69.13-28.08.54-128.44,2.48-141.7C159.92,3.44,166.11,0,174.52,0c10.81,0,15.39,10.16,17.8,15.36,3.16,6.79,4.08,15.11,4.12,22.78.33,61.89.22,123.78.25,185.67,0,1.85-.14,9.71,3.9,9.81,3.81-.1,3.44-6.89,3.46-8.43.62-58.67,1.24-117.34,1.84-176.01.16-15.72,6.79-23.04,20.43-22.37,10.22.5,12.26,4.57,15.34,11.76,2.05,4.78,2.98,15.03,3,20.39.15,55.71.12,111.42.02,167.14,0,3.38.04,20.18,5.68,20.08,3.35-.06,3.32-9.5,3.42-13.55.37-14.46.14-28.94.15-43.41.02-22.75.03-45.5.1-68.25.03-10.1,6.92-18.07,15.81-18.45,8.95-.39,16.31,6.17,17.3,16.06.94,9.35,1.63,18.76,1.87,28.15.77,30.95,4.12,115.21,2.02,155.73-2.01,37.41-3.57,75.23-16.6,111.02-8.77,24.08-24.19,44.31-49.63,45.59-1.67.08-6.27.64-6.62-1Z"
        style="fill: none; stroke: #997744"
        class="forward"
      />
      
    </svg>
  );
};
export default SwirlyHand;
